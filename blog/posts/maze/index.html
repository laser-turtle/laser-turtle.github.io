<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Maze Program - A Blog</title><meta name="Description" content="A blog description"><meta property="og:url" content="/blog/posts/maze/">
  <meta property="og:site_name" content="A Blog">
  <meta property="og:title" content="Maze Program">
  <meta property="og:description" content="Introduction This is part of an old program series I’ll be writing up. During college I was into Computer Graphics, Compilers, Operating Systems, anything that got to the “heart” of practical computing. Our lab machines were running Solaris at the time (or maybe it was Ubuntu at that point?) and there was a pretty generous screensaver collection installed on them. One day something like this Maze Screensaver was running and I got curious how mazes were generated.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2019-05-27T22:25:15-07:00">
    <meta property="article:modified_time" content="2019-05-27T22:25:15-07:00">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Maze Program">
  <meta name="twitter:description" content="Introduction This is part of an old program series I’ll be writing up. During college I was into Computer Graphics, Compilers, Operating Systems, anything that got to the “heart” of practical computing. Our lab machines were running Solaris at the time (or maybe it was Ubuntu at that point?) and there was a pretty generous screensaver collection installed on them. One day something like this Maze Screensaver was running and I got curious how mazes were generated.">
<meta name="application-name" content="A Blog">
<meta name="apple-mobile-web-app-title" content="A Blog">
<meta name="referrer" content="no-referrer" /><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/blog/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/blog/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/blog/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/blog/apple-touch-icon.png"><link rel="mask-icon" href="/blog/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/blog/site.webmanifest"><link rel="canonical" href="/blog/posts/maze/" /><link rel="prev" href="/blog/posts/ocaml-is-cool/" /><link rel="next" href="/blog/posts/incr-dom/" /><link rel="stylesheet" href="/blog/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Maze Program",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "\/blog\/posts\/maze\/"
        },"genre": "posts","wordcount":  808 ,
        "url": "\/blog\/posts\/maze\/","datePublished": "2019-05-27T22:25:15-07:00","dateModified": "2019-05-27T22:25:15-07:00","license": "Copyright \u0026copy; 2022 - Laser Turtle","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "Author"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script>(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/blog/" title="A Blog">A Blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/blog/"> Home </a><a class="menu-item" href="/blog/posts/blender"> Art </a><a class="menu-item" href="/blog/posts/"> Posts </a><a class="menu-item" href="/blog/about/" title="About"> About </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/blog/" title="A Blog">A Blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/blog/" title="">Home</a><a class="menu-item" href="/blog/posts/blender" title="">Art</a><a class="menu-item" href="/blog/posts/" title="">Posts</a><a class="menu-item" href="/blog/about/" title="About">About</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title">Maze Program</h1><div class="post-meta">
            <div class="post-meta-line"></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2019-05-27">2019-05-27</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;808 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;4 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a>
      <ul>
        <li><a href="#maze-video">Maze Video</a></li>
      </ul>
    </li>
    <li><a href="#building-a-maze">Building a Maze</a></li>
    <li><a href="#interactive-example">Interactive Example</a>
      <ul>
        <li><a href="#code">Code</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="introduction">Introduction</h2>
<p>This is part of an old program series I&rsquo;ll be writing up. During college I was into <a href="https://en.wikipedia.org/wiki/Computer_graphics" target="_blank" rel="noopener noreffer ">Computer Graphics</a>, Compilers, Operating Systems, anything that got to the &ldquo;heart&rdquo; of practical computing. Our lab machines were running Solaris at the time (or maybe it was Ubuntu at that point?) and there was a pretty generous screensaver <a href="https://www.jwz.org/xscreensaver/screenshots/" target="_blank" rel="noopener noreffer ">collection</a> installed on them. One day something like this <a href="https://www.youtube.com/watch?v=-u4neMXIRA8" target="_blank" rel="noopener noreffer ">Maze Screensaver</a> was running and I got curious how mazes were generated.</p>
<p>After some googling I found that it&rsquo;s pretty <a href="https://en.wikipedia.org/wiki/Maze_generation_algorithm" target="_blank" rel="noopener noreffer ">simple</a> and mostly involves treating the maze cells as a graph and running some standard graph algorithms on it.</p>
<h3 id="maze-video">Maze Video</h3>
<div style="width:90%; max-width:350px">
    <video preload="none" src="/blog/videos/maze.webm" alt="Maze Video" type="video/webm" controls width="100%">
</div>

<p>This is a video of the OpenGL program I wrote after that investigation. It&rsquo;s pretty old and uses &ldquo;old&rdquo; style OpenGL with <code>glVertex2f()</code> <code>glColor3f()</code> etc. And it looks like there&rsquo;s some floating point issues with the walls and scaling. But it works! And is interesting to look at.</p>
<h2 id="building-a-maze">Building a Maze</h2>
<p>You can think of a maze as a graph. Each &ldquo;box&rdquo; is a vertex and the space in between represents edges. A wall signals that there is no edge between two neighboring vertices. While a lack of wall indicates the two vertices are connected. A good maze shouldn&rsquo;t have any &ldquo;islands&rdquo;, or areas that aren&rsquo;t possible to get to. Every node (vertex) should be accessible from any other node, even though the path may be a little indirect.</p>
<p>One simple way to achieve this property is to actually model the maze as a graph and run a standard graph algorithm like Breadth-First-Search or Depth-First-Search. These algorithms will visit each node in the graph once and if we keep track of the edges that were crossed, we can generate our maze! Then, it&rsquo;s simply a matter of drawing the final graph, putting up walls where there could be an edge, but isn&rsquo;t.</p>
<p>Wikipedia has an excellent high-level <a href="https://en.wikipedia.org/wiki/Maze_generation_algorithm#Randomized_Depth-First_Search" target="_blank" rel="noopener noreffer ">description</a> of the algorithm</p>
<hr>
<p>The randomized depth-first search algorithm of maze generation can be implemented using a stack:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Copy to clipboard"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><pre tabindex="0"><code>1. Start with a grid that has no edges (all walls)
2. Make the initial cell the current cell
3. Push the current cell to the stack and mark it as visited
4. While the stack is not empty
    If the current cell has unvisited neighbours
       1. Choose one of these neighbours randomly
       2. Remove the wall (add an edge) between the current
          cell and the chosen neighbor
       3. Push the neighbor to the stack and mark it as visited
       4. Make the neighbor the current cell
    Else
       1. Pop a cell from the stack and make it the current cell</code></pre></div>
<p>Backtracking occurs when there are no more unvisited neighbors of the current cell. In that case the algorithm pops cells from the stack until it finds a cell with an unvisited neighbor from which a new branch is started.</p>
<hr>
<p>Some slightly lower-level pseudo code</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-c&#43;&#43;">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Copy to clipboard"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">struct</span> <span class="nc">Vertex</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span> <span class="n">left_edge</span>   <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span> <span class="n">right_edge</span>  <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span> <span class="n">top_edge</span>    <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span> <span class="n">bottom_edge</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span> <span class="n">visited</span>     <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">enum</span> <span class="nc">Direction</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Left</span><span class="p">,</span> <span class="n">Right</span><span class="p">,</span> <span class="n">Top</span><span class="p">,</span> <span class="n">Bottom</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">struct</span> <span class="nc">NeighborInfo</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Vertex</span> <span class="n">vertex</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Direction</span> <span class="n">direction</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">struct</span> <span class="nc">Maze</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">width</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">height</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Vertex</span> <span class="n">vertices</span><span class="p">[</span><span class="n">width</span><span class="p">][</span><span class="n">height</span><span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Maze</span> <span class="nf">BuildMaze</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Queue, list, vector, etc
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// depends on pick algorithm
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Collection</span><span class="o">&lt;</span><span class="n">Vertex</span><span class="o">&gt;</span> <span class="n">activeSet</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">Maze</span> <span class="n">maze</span> <span class="o">=</span> <span class="p">{</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">Vertex</span><span class="p">[</span><span class="n">width</span><span class="p">][</span><span class="n">height</span><span class="p">]</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">Point</span> <span class="n">start_loc</span> <span class="o">=</span> <span class="p">{</span> <span class="n">random_int</span><span class="p">(</span><span class="n">width</span><span class="p">),</span> <span class="n">random_int</span><span class="p">(</span><span class="n">height</span><span class="p">)</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">activeSet</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">maze</span><span class="p">.</span><span class="n">vertices</span><span class="p">[</span><span class="n">loc</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">loc</span><span class="p">.</span><span class="n">y</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="n">maze</span><span class="p">.</span><span class="n">vertices</span><span class="p">[</span><span class="n">loc</span><span class="p">.</span><span class="n">x</span><span class="p">][</span><span class="n">loc</span><span class="p">.</span><span class="n">y</span><span class="p">].</span><span class="n">visited</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">activeSet</span><span class="p">.</span><span class="n">is_empty</span><span class="p">())</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Vertex</span> <span class="n">picked</span> <span class="o">=</span> <span class="n">pick</span><span class="p">(</span><span class="n">activeSet</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">Collection</span><span class="o">&lt;</span><span class="n">NeighborInfo</span><span class="o">&gt;</span> <span class="n">neighbors</span> <span class="o">=</span> <span class="n">getNeighbors</span><span class="p">(</span><span class="n">maze</span><span class="p">,</span> <span class="n">picked</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">neighbors</span><span class="p">.</span><span class="n">is_empty</span><span class="p">())</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">activeSet</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">picked</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">NeighborInfo</span> <span class="n">ni</span> <span class="o">=</span> <span class="n">pickNeighbor</span><span class="p">(</span><span class="n">neighbors</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">ni</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">visited</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">setEdges</span><span class="p">(</span><span class="n">picked</span><span class="p">,</span> <span class="n">ni</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">activeSet</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">ni</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">setEdges</span><span class="p">(</span><span class="n">Vertex</span> <span class="n">picked</span><span class="p">,</span> <span class="n">NeighborInfo</span> <span class="n">info</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="n">direction</span> <span class="o">==</span> <span class="n">Left</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">picked</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">info</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="n">direction</span> <span class="o">==</span> <span class="n">Right</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">picked</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">info</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">NeighborInfo</span> <span class="nf">pickNeighbor</span><span class="p">(</span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">NeighborInfo</span><span class="o">&gt;</span> <span class="n">neighbors</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">neighbors</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">random_int</span><span class="p">(</span><span class="n">neighbors</span><span class="p">.</span><span class="n">length</span><span class="p">()));</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Collection</span><span class="o">&lt;</span><span class="n">NeighborInfo</span><span class="o">&gt;</span> <span class="n">getNeighbors</span><span class="p">(</span><span class="n">Maze</span> <span class="n">maze</span><span class="p">,</span> <span class="n">Vertex</span> <span class="n">picked</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Get Left, Right, Top, Bottom neighbors,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// but only if they&#39;re not visited.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Collection</span><span class="o">&lt;</span><span class="n">NeighborInfo</span><span class="o">&gt;</span> <span class="n">neighbors</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Vertex</span> <span class="n">left</span> <span class="o">=</span> <span class="n">getNeighbor</span><span class="p">(</span><span class="n">maze</span><span class="p">,</span> <span class="n">picked</span><span class="p">,</span> <span class="n">Left</span><span class="p">);</span> 
</span></span><span class="line"><span class="cl">    <span class="n">Vertex</span> <span class="n">right</span> <span class="o">=</span> <span class="n">getNeighbor</span><span class="p">(</span><span class="n">maze</span><span class="p">,</span> <span class="n">picked</span><span class="p">,</span> <span class="n">Right</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">...</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">left</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">left</span><span class="p">.</span><span class="n">visited</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">neighbors</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">NeighborInfo</span><span class="p">{</span><span class="n">left</span><span class="p">,</span> <span class="n">Left</span><span class="p">}));</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">right</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">right</span><span class="p">.</span><span class="n">visited</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">neighbors</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">NeighborInfo</span><span class="p">{</span><span class="n">right</span><span class="p">,</span> <span class="n">Right</span><span class="p">});</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">...</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">neighbors</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div></div>
<h2 id="interactive-example">Interactive Example</h2>
<p>Here is a JavaScript+Canvas (written in OCaml) implementation of a couple algorithms. The link to the code is posted below. It uses an implementation similar to the code shown above.</p>
<h3 id="code">Code</h3>
<p><a href="https://github.com/laser-turtle/maze-ocaml-js" target="_blank" rel="noopener noreffer ">Code can be found here</a></p>
<script src='/blog/js/maze.bc.js' type='text/javascript'></script>
<div style='display:inline-block'>
<div id='maze'>
</div>
<div style='display:flex; flex-direction:row; justify-content:space-between;'>
<button id='reset-btn' type='button'>Reset</button>
<select id='select-algorithm'></select>
<button id='start-btn' type='button'>Start</button>
</div>
</div>
<h6 id="note-youll-have-to-click-reset-after-any-changes-in-the-drop-down-for-it-to-take-effect">Note: You&rsquo;ll have to click &ldquo;Reset&rdquo; after any changes in the drop down for it to take effect.</h6>
<p><strong>Depth First Search</strong> is more or less the &lsquo;Randomized Depth First Search&rsquo; from the wikipedia code above.</p>
<p><strong>Breadth First Search</strong> is a breadth first search, and as such, generates pretty bad mazes.</p>
<p><strong>Randomized</strong> is a bit of a combination of the two. It runs depth first search for a bit, then picks another random starting node and runs some more depth first search.</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2019-05-27</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on X" data-sharer="x" data-url="/blog/posts/maze/" data-title="Maze Program"><i class="fab fa-x-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Threads" data-sharer="threads" data-url="/blog/posts/maze/" data-title="Maze Program"><i class="fab fa-threads fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="/blog/posts/maze/"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="/blog/posts/maze/" data-title="Maze Program"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="/blog/posts/maze/" data-title="Maze Program"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@14.9.0/icons/line.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="/blog/posts/maze/" data-title="Maze Program"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Diaspora" data-sharer="diaspora" data-url="/blog/posts/maze/" data-title="Maze Program" data-description=""><i class="fab fa-diaspora fa-fw" aria-hidden="true"></i></a><a href="https://t.me/share/url?url=%2fblog%2fposts%2fmaze%2f&amp;text=Maze%20Program" target="_blank" title="Share on Telegram"><i class="fab fa-telegram fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/blog/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/blog/posts/ocaml-is-cool/" class="prev" rel="prev" title="OCaml is Cool"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>OCaml is Cool</a>
            <a href="/blog/posts/incr-dom/" class="next" rel="next" title="Getting Started With Incr_dom - Part 1">Getting Started With Incr_dom - Part 1<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.136.5">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.3.1-DEV"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022 - 2025</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/blog/" target="_blank"></a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a>
        </div>

        <div id="fixed-buttons-hidden"><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.2/sharer.min.js"></script><script>window.config={"comment":{}};</script><script src="/blog/js/theme.min.js"></script></body>
</html>
